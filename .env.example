# ImageVault - Environment Configuration
# Copy this file to .env and update the values

# ==============================================
# DATABASE CONFIGURATION (Required)
# ==============================================
# PostgreSQL connection string - REQUIRED for the app to work
# Format: postgresql://username:password@host:port/database_name
DATABASE_URL=postgresql://username:password@localhost:5432/imagevault_db

# For Replit PostgreSQL:
# DATABASE_URL=postgresql://username:password@db.railway.app:5432/railway

# ==============================================
# SERVER CONFIGURATION
# ==============================================
# Main application port
PORT=5000

# Microservice ports (for development)
AUTH_PORT=5001
UPLOAD_PORT=5002
IMAGES_PORT=5003
ADMIN_PORT=5004

# Application environment
NODE_ENV=development

# Base URL for your application
BASE_URL=http://localhost:5000

# ==============================================
# SECURITY CONFIGURATION (Required)
# ==============================================
# JWT Secret - CHANGE THIS IN PRODUCTION!
# Generate a strong secret: openssl rand -hex 32
JWT_SECRET=your-super-secure-jwt-secret-key-change-this-in-production

# Session secret for cookies
SESSION_SECRET=your-session-secret-key-change-this-too

# ==============================================
# EMAIL CONFIGURATION (Optional)
# ==============================================
# Gmail SMTP configuration for sending emails
GMAIL_USER=your-email@gmail.com
GMAIL_PASS=your-app-password
GMAIL_HOST=smtp.gmail.com
GMAIL_PORT=587

# Alternative SMTP settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# ==============================================
# CLOUD STORAGE CONFIGURATION (Optional)
# ==============================================
# Backblaze B2 Cloud Storage
BACKBLAZE_KEY_ID=your-backblaze-key-id
BACKBLAZE_APPLICATION_KEY=your-backblaze-application-key
BACKBLAZE_BUCKET_ID=your-bucket-id
BACKBLAZE_BUCKET_NAME=your-bucket-name
BACKBLAZE_ENDPOINT=s3.us-west-002.backblazeb2.com

# ==============================================
# OAUTH CONFIGURATION (Optional)
# ==============================================
# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# GitHub OAuth
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# ==============================================
# API CONFIGURATION (Optional)
# ==============================================
# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# File upload limits
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,webp,svg

# ==============================================
# DEVELOPMENT CONFIGURATION
# ==============================================
# Enable debug logging
DEBUG=true

# Disable CORS for development
DISABLE_CORS=false

# ==============================================
# PRODUCTION CONFIGURATION
# ==============================================
# Set to true in production
ENABLE_HTTPS=true

# Domain for cookies (set to your domain in production)
COOKIE_DOMAIN=localhost

# Trusted proxy IPs (for production behind load balancer)
TRUSTED_PROXIES=127.0.0.1

# Production service URLs (for separate service deployment)
AUTH_SERVICE_URL=https://your-auth-service.replit.app
UPLOAD_SERVICE_URL=https://your-upload-service.replit.app
IMAGES_SERVICE_URL=https://your-images-service.replit.app
ADMIN_SERVICE_URL=https://your-admin-service.replit.app

# Service discovery (for microservices deployment)
GATEWAY_URL=https://your-gateway.replit.app

# ==============================================
# MONITORING & ANALYTICS (Optional)
# ==============================================
# Enable analytics
ENABLE_ANALYTICS=true

# Sentry DSN for error tracking
SENTRY_DSN=your-sentry-dsn

# ==============================================
# NOTES
# ==============================================
# 1. Replace all "your-*" values with actual credentials
# 2. Keep your .env file secure and never commit it to git
# 3. For Replit deployment, add these as Secrets in the Secrets tab
# 4. Generate strong random values for JWT_SECRET and SESSION_SECRET
# 5. DATABASE_URL is required - the app won't work without it